(this["webpackJsonpweb-admin"]=this["webpackJsonpweb-admin"]||[]).push([[17],{179:function(n,e,t){"use strict";t.d(e,"a",(function(){return a})),t.d(e,"b",(function(){return c}));var a=function(n){return n.split(" ").map((function(n){return n.charAt(0)})).join("")},c=function(n){return n.replace(/\s/g,"")}},202:function(n,e,t){"use strict";var a=t(25),c=t(4),r=(t(1),t(165)),i=t(276),o=t(285),u=t(38);function l(){var n=Object(a.a)(["\n  .MuiFormControlLabel-label {\n    font-size: 11px;\n    color: #777;\n    line-height: 2em;\n  }\n"]);return l=function(){return n},n}var s=Object(u.a)(l());e.a=function(n){var e=n.id,t=n.name,a=n.control,u=n.label;return Object(c.jsx)(r.a,{control:a,name:t,render:function(n){var t=n.onChange,a=n.onBlur,r=n.value;return Object(c.jsx)(i.a,{className:s,label:u,labelPlacement:"top",control:Object(c.jsx)(o.a,{id:e,onChange:function(n){return t(n.target.checked)},onBlur:a,checked:r})})}})}},220:function(n,e,t){"use strict";var a=t(25);function c(){var n=Object(a.a)(["\n  font-size: 11px;\n  color: #777;\n  /* padding: 8px 0;\n  border-top: 1px solid; */\n"]);return c=function(){return n},n}var r=t(42).a.div(c());e.a=r},338:function(n,e,t){"use strict";t.r(e);var a=t(6),c=t(25),r=t(4),i=t(15),o=t(154),u=t(326),l=t(197),s=t(198),j=t(334),b=t(310),d=t(311),O=t(38),p=t(218),f=t(1),x=t.n(f),m=t(49),h=t(76),v=t(8),g=t(201),C=t(330),y=t(341),N=t(347),I=t(42),k=t(179),F=t(187);function A(){var n=Object(c.a)(["\n  .MuiFormLabel-root {\n    font-size: 11px;\n    color: #777;\n    /* text-transform: uppercase; */\n    line-height: 2em;\n  }\n  .MuiInput-root {\n    background-color: #eee;\n  }\n  .MuiInput-input {\n    padding: 6px 5px;\n    font-size: 14px;\n  }\n"]);return A=function(){return n},n}function D(){var n=Object(c.a)(["\n  .MuiAutocomplete-option {\n    padding-top: 8px;\n    padding-bottom: 8px;\n  }\n"]);return D=function(){return n},n}function V(){var n=Object(c.a)(["\n  display: block;\n  font-size: 11px;\n  color: #666;\n"]);return V=function(){return n},n}function w(){var n=Object(c.a)(["\n  display: block;\n"]);return w=function(){return n},n}function z(){var n=Object(c.a)(["\n  display: block !important;\n  font-size: 14px;\n  margin-bottom: 0.5em;\n"]);return z=function(){return n},n}var M=I.a.span(z()),T=I.a.span(w()),P=I.a.span(V()),S=Object(O.a)(D()),E=Object(O.a)(A()),L=[{abn:"86162372741",acn:"162372741",name:"APOSITIVE PTY LTD"},{acn:"609328207",name:"CROFT FAMILY PTY LTD"}],B=Object(C.a)(),R=function(n){var e=n.value,t=n.onChange;return Object(r.jsx)(y.a,{value:e,autoHighlight:!0,classes:{listbox:S},options:L,getOptionSelected:function(n,e){return!!e&&n===e},renderOption:function(n,e,t){return Object(r.jsx)("li",Object(v.a)(Object(v.a)({},n),{},{children:Object(r.jsxs)(T,{children:[Object(r.jsx)(M,{children:e.name}),!e.inputValue&&Object(r.jsxs)(P,{children:[Object(F.a)(e.acn)," ",!!e.abn&&Object(r.jsxs)(r.Fragment,{children:[" / ",Object(F.a)(e.abn)]})]})]})}))},selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,getOptionLabel:function(n){var e;return"string"===typeof n?n:n.inputValue?n.inputValue:"".concat(n.name," ").concat(n.acn.replace(/\s/g,"")," ").concat(null===(e=n.abn)||void 0===e?void 0:e.replace(/\s/g,""))},onChange:function(n,e){t("string"===typeof e?{acn:"",name:e}:e||null)},filterOptions:function(n,e){var t=B(n,e),a=Object(k.b)(e.inputValue);return""!==a&&(9===a.length&&Object(g.isValidACN)(a)||11===a.length&&Object(g.isValidABN)(a)?t.push({inputValue:e.inputValue,acn:a,name:'Create Company "'.concat(Object(F.a)(a),'"')}):t.push({inputValue:e.inputValue,acn:"",name:'Create Company "'.concat(e.inputValue,'"')})),t},renderInput:function(n){var e=n.InputLabelProps,t=n.InputProps,a=Object(h.a)(n,["InputLabelProps","InputProps"]);return Object(r.jsx)(N.a,Object(v.a)({autoFocus:!0,className:E,InputLabelProps:Object(v.a)({shrink:!0},e),InputProps:Object(v.a)({placeholder:"Find by ACN, ABN or name"},t)},a))}})},G=t(22),H=t(333),Y=t(202),J=t(175),K=t(220),q=t(165),Q=t(54),U=t(317),W=t(284),X=t(322),Z=t(188),$=t(282),_=function(n){return Object($.a)(n,"d MMM yyyy")};function nn(){var n=Object(c.a)(["\n  padding: 10px 16px;\n"]);return nn=function(){return n},n}function en(){var n=Object(c.a)(["\n  margin-right: 2px;\n  margin-top: 2px;\n"]);return en=function(){return n},n}function tn(){var n=Object(c.a)(["\n  display: inline-block;\n  font-size: 16px;\n  width: 30px;\n  vertical-align: middle;\n"]);return tn=function(){return n},n}function an(){var n=Object(c.a)(["\n  display: inline-block;\n  font-size: 14px;\n"]);return an=function(){return n},n}function cn(){var n=Object(c.a)(["\n  flex-grow: 1;\n"]);return cn=function(){return n},n}function rn(){var n=Object(c.a)(["\n  flex-grow: 1;\n  padding: 16px;\n  display: flex;\n"]);return rn=function(){return n},n}function on(){var n=Object(c.a)(["\n  padding: 0 16px 16px 46px;\n  display: flex;\n"]);return on=function(){return n},n}function un(){var n=Object(c.a)(["\n  display: flex;\n"]);return un=function(){return n},n}function ln(){var n=Object(c.a)(["\n  background-color: #eee;\n  margin-bottom: 2px;\n"]);return ln=function(){return n},n}var sn=I.a.div(ln()),jn=I.a.div(un()),bn=I.a.div(on()),dn=I.a.div(rn()),On=I.a.div(cn()),pn=I.a.span(an()),fn=I.a.span(tn()),xn=I.a.div(en()),mn=Object(O.a)(nn());var hn=function(n){var e=n.director,t=n.onRemove,c=n.index,i=x.a.useState(null),o=Object(a.a)(i,2),u=o[0],l=o[1];function s(){l(null)}return Object(r.jsxs)(sn,{children:[Object(r.jsxs)(jn,{children:[Object(r.jsxs)(dn,{children:[Object(r.jsx)(fn,{children:Object(r.jsx)(Q.e,{})}),Object(r.jsx)(On,{children:Object(r.jsx)(j.a,{container:!0,spacing:2,children:Object(r.jsx)(j.a,{item:!0,xs:12,children:Object(r.jsxs)(pn,{children:[e.firstGivenName," ",e.familyName]})})})})]}),Object(r.jsxs)(xn,{children:[Object(r.jsx)(U.a,{onClick:function(n){l(n.currentTarget)},children:Object(r.jsx)(Q.d,{})}),Object(r.jsxs)(W.a,{anchorEl:u,getContentAnchorEl:null,keepMounted:!0,open:Boolean(u),onClose:s,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[Object(r.jsx)(X.a,{className:mn,onClick:function(){s()},children:"Run Credit Check"}),Object(r.jsx)(X.a,{className:mn,onClick:function(){s(),t(c)},children:"Remove"})]})]})]}),!!e.appointmentDate&&Object(r.jsx)(bn,{children:Object(r.jsxs)(j.a,{container:!0,spacing:2,children:[Object(r.jsx)(j.a,{item:!0,xs:12,md:6,children:Object(r.jsx)(Z.a,{label:"Appointment Date",value:_(e.appointmentDate)})}),!!e.ceaseDate&&Object(r.jsx)(j.a,{item:!0,xs:12,md:6,children:Object(r.jsx)(Z.a,{label:"Cease Date",value:_(e.ceaseDate)})})]})})]})},vn=t(178);function gn(){var n=Object(c.a)(["\n  background-color: #eee;\n  padding: 24px;\n  text-align: center;\n"]);return gn=function(){return n},n}function Cn(){var n=Object(c.a)(["\n  .MuiButton-root {\n    margin-left: 8px;\n  }\n"]);return Cn=function(){return n},n}function yn(){var n=Object(c.a)(["\n  flex-grow: 1;\n  font-size: 11px;\n  color: #777;\n  line-height: 2em;\n  align-self: flex-end;\n"]);return yn=function(){return n},n}function Nn(){var n=Object(c.a)(["\n  display: flex;\n"]);return Nn=function(){return n},n}function In(){var n=Object(c.a)(["\n"]);return In=function(){return n},n}var kn=x.a.lazy((function(){return Promise.all([t.e(15),t.e(22)]).then(t.bind(null,337))})),Fn=I.a.div(In()),An=I.a.div(Nn()),Dn=Object(O.a)(yn()),Vn=I.a.div(Cn()),wn=I.a.div(gn());function zn(n,e){var t=n.initialCompany,c=t.acn,i=t.abn,o=t.name,u=n.onDirtyChange,l=Object(f.useState)(!1),s=Object(a.a)(l,2),b=s[0],O=s[1],p=Object(f.useState)([]),m=Object(a.a)(p,2),h=m[0],g=m[1];function C(){return Object(v.a)(Object(v.a)({},A()),{},{Directors:h})}x.a.useImperativeHandle(e,(function(){return{getFormValues:C}}));var y=Object(q.c)({defaultValues:{Name:o,Acn:Object(F.a)(c),IsTradingEntity:!!i,Abn:Object(F.a)(i),IsForeign:!1},mode:"onChange"}),N=y.control,I=y.watch,k=y.formState.isDirty,A=y.getValues,D=I("IsTradingEntity"),V=I("IsForeign");function w(n){g(h.slice(0,n).concat(h.slice(n+1)))}return Object(f.useEffect)((function(){u(k)}),[k]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(j.a,{container:!0,spacing:2,alignItems:"flex-end",children:[Object(r.jsx)(j.a,{item:!0,xs:12,children:Object(r.jsx)(K.a,{children:"Company Details"})}),Object(r.jsx)(j.a,{item:!0,xs:10,children:Object(r.jsx)(J.a,{autoFocus:!0,id:"NewCompanyName",name:"Name",label:"Name",control:N})}),Object(r.jsx)(j.a,{item:!0,xs:2,children:Object(r.jsx)(Y.a,{name:"IsForeign",control:N,label:"Foreign?"})}),V?Object(r.jsx)(j.a,{item:!0,xs:12,children:Object(r.jsx)(J.a,{name:"ForeignIdentifier",label:"Identifier",control:N})}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(j.a,{item:!0,xs:12,md:3,children:Object(r.jsx)(J.a,{name:"Acn",label:"ACN",control:N})}),Object(r.jsx)(j.a,{item:!0,xs:3,children:Object(r.jsx)(Y.a,{name:"IsTradingEntity",control:N,label:"Is Trading?"})}),D&&Object(r.jsx)(j.a,{item:!0,xs:9,md:6,children:Object(r.jsx)(J.a,{name:"Abn",label:"ABN",control:N})})]}),Object(r.jsx)(j.a,{item:!0,xs:12,children:Object(r.jsxs)(Fn,{children:[Object(r.jsxs)(An,{children:[Object(r.jsx)(H.a,{className:Dn,children:"Directors"}),Object(r.jsx)(Vn,{children:Object(r.jsx)(d.a,{startIcon:Object(r.jsx)(Q.b,{}),endIcon:Object(r.jsx)(Q.e,{}),onClick:function(){O(!0)}})})]}),(null===h||void 0===h?void 0:h.length)?h.map((function(n,e){return Object(r.jsx)(hn,{index:e,director:n,onRemove:w},e)})):Object(r.jsx)(wn,{children:"No directors assigned"})]})})]}),Object(r.jsx)(vn.a,{isOpen:b,children:Object(r.jsx)(kn,{isOpen:b,onClose:function(){O(!1)},onSubmit:function(n){var e;O(!1),e={firstGivenName:n.FirstGivenName,otherGivenName:n.OtherGivenName,familyName:n.FamilyName,ceaseDate:n.CeaseDate||void 0,appointmentDate:n.AppointmentDate||void 0},g([].concat(Object(G.a)(h),[e]))}})})]})}var Mn=x.a.forwardRef(zn);function Tn(){var n=Object(c.a)(["\n  "," {\n    width: 100%\n  }\n  "," {\n    width: 580px;\n  }\n"]);return Tn=function(){return n},n}var Pn=Object(O.a)(Tn(),m.a.xs,m.a.sm);e.default=function(n){var e=n.isOpen,t=n.onClose,c=n.onSubmit,O=Object(f.useState)(null),m=Object(a.a)(O,2),h=m[0],v=m[1],g=Object(f.useState)(!1),C=Object(a.a)(g,2),y=C[0],N=C[1],I=Object(i.a)(),k=Object(o.a)(I.breakpoints.down("xlMob")),F=Object(p.b)(),A=F.company,D=F.setCompany,V=x.a.useRef(null);function w(){v(null)}function z(){t()}return Object(f.useEffect)((function(){return e||w(),function(){return w()}}),[e]),Object(f.useEffect)((function(){D(h?h.inputValue?h.acn?{name:"",acn:h.acn}:{name:h.inputValue,acn:""}:h:void 0)}),[h,D]),Object(r.jsxs)(u.a,{fullScreen:k,open:e,onClose:z,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(r.jsxs)(l.a,{id:"alert-dialog-title",children:["Add Company Trustee ",y&&Object(r.jsx)(Q.g,{})]}),Object(r.jsx)(s.a,{className:Pn,children:Object(r.jsx)(j.a,{container:!0,spacing:2,children:Object(r.jsx)(j.a,{item:!0,xs:12,children:A?Object(r.jsx)(Mn,{ref:V,initialCompany:A,onDirtyChange:N}):Object(r.jsx)(R,{value:h,onChange:v})})})}),Object(r.jsxs)(b.a,{children:[Object(r.jsx)(d.a,{onClick:z,children:"Cancel"}),Object(r.jsx)(d.a,{variant:"contained",disabled:!h,onClick:function(){V.current&&c(V.current.getFormValues())},children:"Add"})]})]})}}}]);
//# sourceMappingURL=17.7ea4a43b.chunk.js.map