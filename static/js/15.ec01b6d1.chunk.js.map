{"version":3,"sources":["components/PaddedContainer.tsx","utils/isArray.ts","components/form/AutoCompleteField.tsx","components/Card.tsx","types/AccountType.ts","components/form/DisplayField.tsx","types/ConfidentialityType.ts","components/form/NumberField.tsx","types/RecourseType.ts","types/FeeModelType.ts","components/form/PercentField.tsx","pages/accounts/Facility.tsx"],"names":["PaddedContainer","styled","div","isArray","value","Array","TextFieldStyle","css","AutoCompleteField","props","name","control","error","rules","label","placeholder","creatable","getOptionLabel","option","disableClearable","renderOption","autoFocus","options","render","onChange","onBlur","id","autoHighlight","getOptionSelected","selectOnFocus","clearOnBlur","evt","newValue","renderInput","InputLabelProps","InputProps","rest","className","shrink","helperText","message","Title","Head","Root","Card","children","title","ariaLabel","aria-label","AccountType","AccountTypeLabels","Map","InvoiceFinance","Instalments","LabelStyle","Value","DisplayField","fieldValue","join","fullWidth","ConfidentialityType","ConfidentialityTypeLabels","Disclosed","Confidential","RecourseType","NumberFormatCustom","inputRef","other","getInputRef","onValueChange","values","target","decimalScale","fixedDecimalScale","thousandSeparator","isNumericString","prefix","NumberField","disabled","transform","event","inputComponent","FeeModelType","RecourseTypeLabels","Recourse","NonRecourse","FeeModelTypeLabels","SplitFee","max","min","suffix","PercentField","defaultValues","get","confidentialityTypeOptions","entries","map","confidentialityType","recourseTypeOptions","recourseType","feeModelTypeOptions","feeModelType","Facility","methods","useForm","mode","handleSubmit","onSubmit","Grid","container","spacing","item","xs","lg","sm"],"mappings":"oNAEA,IAAMA,E,MAAkBC,EAAOC,IAAV,KAINF,O,iCCJAG,IAFC,SAAIC,GAAJ,OAAqCC,MAAMF,QAAQC,K,ibCqCnE,IAAME,EAAiBC,YAAH,KA6ELC,IA7DW,SAA+CC,GAAuB,IAE5FC,EAYED,EAZFC,KACAC,EAWEF,EAXFE,QACAC,EAUEH,EAVFG,MACAC,EASEJ,EATFI,MACAC,EAQEL,EARFK,MACAC,EAOEN,EAPFM,YACAC,EAMEP,EANFO,UAR2F,EAczFP,EALFQ,sBAT2F,MAS1E,SAACC,GAAD,OAAmC,OAANA,QAAM,IAANA,OAAA,EAAAA,EAAQJ,QAAS,IAT4B,EAU3FK,EAIEV,EAJFU,iBACAC,EAGEX,EAHFW,aACAC,EAEEZ,EAFFY,UACAC,EACEb,EADFa,QAGF,OACE,cAAC,IAAD,CACEX,QAASA,EACTD,KAAMA,EACNG,MAAOA,EACPU,OAAQ,YAAwC,IAArCC,EAAoC,EAApCA,SAAUC,EAA0B,EAA1BA,OAAQrB,EAAkB,EAAlBA,MAAOM,EAAW,EAAXA,KAGlC,OACE,cAAC,IAAD,CACEgB,GAAIhB,EACJiB,eAAa,EAEbR,iBAAkBA,EAClBG,QAASA,EACTM,kBAAmB,SAACV,EAAyBd,GAC3C,QAAOA,GAAQc,EAAOd,QAAUA,EAAMA,OAExCgB,aAAcA,EACdS,cAAeb,EACfc,YAAad,EACbC,eAAgBA,EAChBb,MAAOA,EAEPoB,SAAU,SAACO,EAAKC,GAAN,OAAmBR,EAASQ,IACtCP,OAAQA,EACRQ,YAAa,kBAAGC,EAAH,EAAGA,gBAAiBC,EAApB,EAAoBA,WAAeC,EAAnC,uDACX,cAAC,IAAD,aACEf,UAAWA,EACXgB,UAAW/B,EACXQ,MAAOA,EACPF,QAASA,EACTsB,gBAAe,aAAII,QAAQ,GAASJ,GACpCC,WAAU,aAAIpB,YAAaA,GAAgBoB,GAC3CI,WAAU,iBAAG3B,QAAH,IAAGA,OAAH,EAAGA,EAAO4B,eAAV,QAAqB,IAC3BJ,Y,olBCrGpB,IAAMK,EAAQxC,IAAOC,IAAV,KAMLwC,EAAOzC,IAAOC,IAAV,KAIJyC,EAAO1C,IAAOC,IAAV,KAsCK0C,IAnBf,YAKkC,IAJhCC,EAI+B,EAJ/BA,SACAC,EAG+B,EAH/BA,MACAC,EAE+B,EAF/BA,UAIA,OACE,eAACJ,EAAD,CAAMK,aAAYD,EAAlB,UAEID,GACA,cAACJ,EAAD,UACE,cAACD,EAAD,UAAQK,MAGXD,O,iCC/CA,IAAKI,EAAZ,oE,SAAYA,O,eAAAA,I,mCAAAA,I,8BAAAA,M,KAML,IAAMC,EAAoB,IAAIC,IAAyB,CAC5D,CAACF,EAAYG,eAAgB,mBAC7B,CAACH,EAAYI,YAAa,kB,yWCF5B,IAAMC,EAAa/C,YAAH,KAMVgD,EAAQtD,IAAOC,IAAV,KAqCIsD,IAxBM,SAAC/C,GAAkB,IAEpCK,EAEEL,EAFFK,MACAV,EACEK,EADFL,MAGEqD,EAA8B,GAQlC,OALEA,EADEtD,YAAQC,GACGA,EAAMsD,KAAK,MAEXtD,EAIb,eAAC,IAAD,CACEuD,WAAS,EADX,UAGE,cAAC,IAAD,CAAYtB,UAAWiB,EAAYhB,QAAM,EAAzC,SAA2CxB,IAC3C,cAACyC,EAAD,UAAQE,S,4CCzCFG,E,6EAAAA,O,eAAAA,I,yBAAAA,I,gCAAAA,M,KAML,IAAMC,EAA4B,IAAIV,IAAiC,CAC5E,CAACS,EAAoBE,UAAW,aAChC,CAACF,EAAoBG,aAAc,kB,8XCErC,ICVYC,EDUN1D,EAAiBC,YAAH,KAoCd0D,EAAqB,SAACxD,GAAoC,IACtDyD,EAAiCzD,EAAjCyD,SAAU1C,EAAuBf,EAAvBe,SAAa2C,EAD8B,YACpB1D,EADoB,yBAG7D,OACE,cAAC,IAAD,2BACM0D,GADN,IAEEC,YAAaF,EACbG,cAAe,SAACC,GACd9C,EAAS,CACP+C,OAAQ,CACN7D,KAAMD,EAAMC,KACZN,MAAOkE,EAAOlE,UAIpBoE,aAAc,EACdC,mBAAiB,EACjBC,mBAAiB,EACjBC,iBAAe,EACfC,OAAO,QAmDEC,EA9CK,SAAmBpE,GAAqB,IAExDC,EAQED,EARFC,KACAC,EAOEF,EAPFE,QACAG,EAMEL,EANFK,MACAF,EAKEH,EALFG,MACAC,EAIEJ,EAJFI,MAEAiE,EAEErE,EAFFqE,SACAC,EACEtE,EADFsE,UAGF,OACE,cAAC,IAAD,CACEpE,QAASA,EACTD,KAAMA,EACNG,MAAOA,EACPU,OAAQ,kBAAGC,EAAH,EAAGA,SAAUC,EAAb,EAAaA,OAAQrB,EAArB,EAAqBA,MAAOM,EAA5B,EAA4BA,KAA5B,OACN,cAAC,IAAD,CACEgB,GAAIhB,EACJiD,WAAS,EAETtB,UAAW/B,EACXQ,MAAOA,EACPU,SAAU,SAACwD,GAEPxD,EADEuD,EACOA,EAAUC,EAAMT,OAAOnE,OAEvB4E,EAAMT,OAAOnE,QAG1BqB,OAAQA,EACRrB,MAAOA,EACPQ,QAASA,EACTsB,gBAAiB,CAAEI,QAAQ,GAC3BC,WAAU,iBAAE3B,QAAF,IAAEA,OAAF,EAAEA,EAAO4B,eAAT,QAAoB,GAC9BsC,SAAUA,EACV3C,WAAY,CACV8C,eAAgBhB,U,SC5GhBD,O,eAAAA,I,uBAAAA,I,8BAAAA,M,KAML,ICNKkB,EDMCC,EAAqB,IAAIhC,IAA0B,CAC9D,CAACa,EAAaoB,SAAU,YACxB,CAACpB,EAAaqB,YAAa,mB,SCRjBH,O,eAAAA,I,wBAAAA,M,KAKL,IAAMI,EAAqB,IAAInC,IAA0B,CAC9D,CAAC+B,EAAaK,SAAU,e,sUCI1B,IAAMjF,EAAiBC,YAAH,KAoCd0D,EAAqB,SAACxD,GAAoC,IACtDyD,EAAiCzD,EAAjCyD,SAAU1C,EAAuBf,EAAvBe,SAAa2C,EAD8B,YACpB1D,EADoB,yBAG7D,OACE,cAAC,IAAD,2BACM0D,GADN,IAEEqB,IAAK,IACLC,IAAK,EACLrB,YAAaF,EACbG,cAAe,SAACC,GACd9C,EAAS,CACP+C,OAAQ,CACN7D,KAAMD,EAAMC,KACZN,MAAOkE,EAAOlE,UAIpBoE,aAAc,EACdC,mBAAiB,EACjBC,mBAAiB,EACjBC,iBAAe,EACfe,OAAO,QAmDEC,EA9CM,SAAmBlF,GAAqB,IAEzDC,EAQED,EARFC,KACAC,EAOEF,EAPFE,QACAG,EAMEL,EANFK,MACAF,EAKEH,EALFG,MACAC,EAIEJ,EAJFI,MAEAiE,EAEErE,EAFFqE,SACAC,EACEtE,EADFsE,UAGF,OACE,cAAC,IAAD,CACEpE,QAASA,EACTD,KAAMA,EACNG,MAAOA,EACPU,OAAQ,kBAAGC,EAAH,EAAGA,SAAUC,EAAb,EAAaA,OAAQrB,EAArB,EAAqBA,MAAOM,EAA5B,EAA4BA,KAA5B,OACN,cAAC,IAAD,CACEgB,GAAIhB,EACJiD,WAAS,EAETtB,UAAW/B,EACXQ,MAAOA,EACPU,SAAU,SAACwD,GAEPxD,EADEuD,EACOA,EAAUC,EAAMT,OAAOnE,OAEvB4E,EAAMT,OAAOnE,QAG1BqB,OAAQA,EACRrB,MAAOA,EACPQ,QAASA,EACTsB,gBAAiB,CAAEI,QAAQ,GAC3BC,WAAU,iBAAE3B,QAAF,IAAEA,OAAF,EAAEA,EAAO4B,eAAT,QAAoB,GAC9BsC,SAAUA,EACV3C,WAAY,CACV8C,eAAgBhB,S,kBC3EtB2B,EAA8B,CAClChC,oBAAqB,CAAExD,MAAOwD,EAAoBE,UAAWhD,MAAO+C,EAA0BgC,IAAIjC,EAAoBE,YACtHE,aAAc,CAAE5D,MAAO4D,EAAaoB,SAAUtE,MAAOqE,EAAmBU,IAAI7B,EAAaoB,WACzFF,aAAc,CAAE9E,MAAO8E,EAAaK,SAAUzE,MAAOwE,EAAmBO,IAAIX,EAAaK,YAarFO,EAA6B,YAAIjC,EAA0BkC,WAAWC,KAAI,mCAAEC,EAAF,WAC7E,CAAEnF,MAD2E,KAC7DV,MAAO6F,MAGpBC,EAAsB,YAAIf,EAAmBY,WAAWC,KAAI,mCAAEG,EAAF,WAC/D,CAAErF,MAD6D,KAC/CV,MAAO+F,MAGpBC,EAAsB,YAAId,EAAmBS,WAAWC,KAAI,mCAAEK,EAAF,WAC/D,CAAEvF,MAD6D,KAC/CV,MAAOiG,MA2IXC,UAxIf,WAEE,IAAMC,EAAUC,YAAsB,CACpCZ,gBACAa,KAAM,aAINC,EAIEH,EAJFG,aAGA/F,EACE4F,EADF5F,QAMF,OACE,cAACX,EAAA,EAAD,UACE,sBAAM2G,SAAUD,GAAa,eAA7B,SACE,cAACE,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,SACE,cAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACE,cAACrE,EAAA,EAAD,UACE,eAACgE,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACA,cAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIE,GAAI,EAAvB,SACI,cAAC1D,EAAA,EAAD,CACE1C,MAAM,OACNV,MAAO8C,IAAkB2C,IAAI5C,IAAYG,oBAG7C,cAACwD,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIE,GAAI,EAAvB,SACE,cAAC1G,EAAA,EAAD,CACEE,KAAK,eACLC,QAASA,EACTG,MAAM,YACNQ,QAAS8E,MAGb,cAACQ,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIE,GAAI,EAAvB,SACE,cAAC,EAAD,CACExG,KAAK,QACLC,QAASA,EACTG,MAAM,YAGV,cAAC8F,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIE,GAAI,EAAvB,SACE,cAAC,EAAD,CACExG,KAAK,mBACLC,QAASA,EACTG,MAAM,wBAGV,cAAC8F,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIE,GAAI,EAAvB,SACE,cAAC,EAAD,CACExG,KAAK,wBACLC,QAASA,EACTG,MAAM,+BAGV,cAAC8F,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIE,GAAI,EAAvB,SACE,cAAC,EAAD,CACExG,KAAK,kBACLC,QAASA,EACTG,MAAM,mBAGV,cAAC8F,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIE,GAAI,EAAvB,SACE,cAAC1G,EAAA,EAAD,CACEE,KAAK,sBACLC,QAASA,EACTG,MAAM,kBACNQ,QAASwE,MAGb,cAACc,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIE,GAAI,EAAvB,SACE,cAAC1G,EAAA,EAAD,CACEE,KAAK,eACLC,QAASA,EACTG,MAAM,WACNQ,QAAS4E","file":"static/js/15.ec01b6d1.chunk.js","sourcesContent":["import styled from '@emotion/styled';\n\nconst PaddedContainer = styled.div`\n  padding: 16px;\n`;\n\nexport default PaddedContainer\n","const isArray = <T>(value: unknown): value is T[] => Array.isArray(value);\n\nexport default isArray;","import { Control, Controller, FieldError } from 'react-hook-form';\nimport {\n  AutocompleteRenderOptionState,\n  InputLabelProps,\n  TextField,\n  Autocomplete as MuiAutocomplete\n} from '@material-ui/core';\nimport { FieldRules } from 'types/FieldRules';\nimport { FieldName } from 'react-hook-form/dist/types/form';\nimport { css } from 'emotion';\nimport React from 'react';\n\nexport interface SelectOption<R> {\n  label: string;\n  value: R;\n}\n\ninterface Props<T,R> {\n  name: keyof T;\n  control: Control<T>;\n  error?: FieldError;\n  rules?: FieldRules;\n  label?: string;\n  options: Array<SelectOption<R>>;\n  placeholder?: string;\n  getOptionLabel?: (option: SelectOption<R>) => string;\n  renderOption?: (\n    props: React.HTMLAttributes<HTMLLIElement>,\n    option: SelectOption<R>,\n    state: AutocompleteRenderOptionState\n  ) => React.ReactNode;\n  autoFocus?: boolean;\n  creatable?: boolean;\n  InputLabelProps?: Partial<InputLabelProps>;\n  disableClearable?: boolean | undefined;\n}\n\nconst TextFieldStyle = css`\n  .MuiFormLabel-root {\n    font-size: 11px;\n    color: #777;\n    /* text-transform: uppercase; */\n    line-height: 2em;\n  }\n  .MuiInput-root {\n    background-color: #eee;\n  }\n  .MuiInput-input {\n    padding: 6px 5px;\n    font-size: 14px;\n  }\n`;\n\nconst AutoCompleteField = <T extends Record<string, any>, R extends any>(props: Props<T,R>) => {\n  const {\n    name,\n    control,\n    error,\n    rules,\n    label,\n    placeholder,\n    creatable,\n    getOptionLabel = (option: SelectOption<R>) => option?.label || '',\n    disableClearable,\n    renderOption,\n    autoFocus,\n    options,\n  } = props;\n\n  return (\n    <Controller\n      control={control}\n      name={name as FieldName<T>}\n      rules={rules}\n      render={({ onChange, onBlur, value, name }) => {\n        // const selectedValueWithLabel = options.find(option => option?.value === value);\n\n        return (\n          <MuiAutocomplete\n            id={name}\n            autoHighlight\n            // freeSolo={creatable}\n            disableClearable={disableClearable}\n            options={options}\n            getOptionSelected={(option: SelectOption<R>, value: SelectOption<R>) => { \n              return value ? option.value === value.value : false;\n            }}\n            renderOption={renderOption}\n            selectOnFocus={creatable}\n            clearOnBlur={creatable}\n            getOptionLabel={getOptionLabel}\n            value={value}\n            // value={selectedValueWithLabel}\n            onChange={(evt, newValue) => onChange(newValue)}\n            onBlur={onBlur}\n            renderInput={({ InputLabelProps, InputProps, ...rest }) => \n              <TextField\n                autoFocus={autoFocus}\n                className={TextFieldStyle}\n                label={label}\n                error={!!error}\n                InputLabelProps={{ shrink: true, ...InputLabelProps }}\n                InputProps={{ placeholder: placeholder, ...InputProps }}\n                helperText={ error?.message ?? '' }\n                {...rest}\n              />\n            }\n          />\n        )\n      }}\n    />\n  )\n};\n\nexport default AutoCompleteField;\n","import styled from '@emotion/styled';\nimport React, { PropsWithChildren } from 'react';\n\nconst Title = styled.div`\n  font-size: 18px;\n  margin-bottom: 16px;\n  flex-grow: 1;\n`;\n\nconst Head = styled.div`\n  display: flex;\n`;\n\nconst Root = styled.div`\n  @media (min-width: 600px) {\n    border: 2px solid rgba(0,0,0,0.12);\n    padding: 16px;\n  }\n  @media (max-width: 599.95px) {\n    /* padding: 0 0 16px 0; */\n    padding: 0;\n    /* border-bottom: 2px solid rgba(0,0,0,0.12); */\n  }\n`;\n\ninterface CardProps {\n  title?: string;\n  ariaLabel?: string;\n  actionMenu?: React.ReactNode;\n}\n\n// const Card: React.ForwardRefRenderFunction<PropsWithChildren<CardProps>, HTMLDivElement | null | any> = ({\nfunction Card({\n  children,\n  title,\n  ariaLabel,\n  // actionMenu,\n}: PropsWithChildren<CardProps>) {\n// }, ref) => {\n  return (\n    <Root aria-label={ariaLabel}>\n      {\n        title &&\n        <Head>\n          <Title>{title}</Title>\n        </Head>\n      }\n      {children}</Root>\n  )\n}\n\nexport default Card;\n","export enum AccountType {\n  None = 0,\n  InvoiceFinance = 1,\n  Instalments = 3,\n}\n\nexport const AccountTypeLabels = new Map<AccountType, string>([\n  [AccountType.InvoiceFinance, 'Invoice Finance'],\n  [AccountType.Instalments, 'Instalments'],\n]);\n\n","import styled from '@emotion/styled';\nimport { FormControl, InputLabel } from '@material-ui/core';\nimport { css } from 'emotion';\nimport React from 'react';\nimport isArray from 'utils/isArray';\n\nconst LabelStyle = css`\n  font-size: 11px;\n  color: #777;\n  line-height: 2em;\n`;\n\nconst Value = styled.div`\n  padding: 5px 0;\n  font-size: 14px;\n  line-height: 1em;\n`;\n\ninterface Props {\n  label: string;\n  className?: string;\n  // type?: 'text' | 'number' | 'password';\n  value: string[] | React.ReactNode;\n}\n\nconst DisplayField = (props: Props) => {\n  const {\n    label,\n    value,\n  } = props;\n\n  let fieldValue: React.ReactNode = '';\n\n  if (isArray(value)) {\n    fieldValue = value.join('\\n');\n  } else {\n    fieldValue = value;\n  }\n  \n  return (\n    <FormControl\n      fullWidth\n    >\n      <InputLabel className={LabelStyle} shrink>{label}</InputLabel>\n      <Value>{fieldValue}</Value>\n    </FormControl>\n  );\n};\n\nexport default DisplayField;\n","\n\n\nexport enum ConfidentialityType {\n  None = 0,\n  Disclosed = 1,\n  Confidential = 3,\n}\n\nexport const ConfidentialityTypeLabels = new Map<ConfidentialityType, string>([\n  [ConfidentialityType.Disclosed, 'Disclosed'],\n  [ConfidentialityType.Confidential, 'Confidential'],\n]);\n","import MuiTextField from '@material-ui/core/TextField';\nimport NumberFormat from 'react-number-format';\nimport React from 'react';\nimport { FieldName } from 'react-hook-form/dist/types/form';\nimport {\n  Control,\n  Controller,\n  FieldError,\n  // FieldName\n} from 'react-hook-form';\nimport { FieldRules } from 'types/FieldRules';\nimport { css } from 'emotion';\n\nconst TextFieldStyle = css`\n  .MuiFormLabel-root {\n    font-size: 11px;\n    color: #777;\n    /* text-transform: uppercase; */\n    line-height: 2em;\n  }\n  .MuiInput-root {\n    background-color: #eee;\n  }\n  .MuiInput-input {\n    padding: 6px 5px;\n    font-size: 14px;\n  }\n`;\n\ninterface Props<T extends Record<string, any>> {\n  name: keyof T;\n  control: Control<T>;\n  label: string;\n  error?: FieldError;\n  rules?: FieldRules;\n  // TODO: Implement min/max\n  max?: number;\n  min?: number;\n  // type?: 'text' | 'number' | 'password';\n  disabled?: boolean;\n  transform?: (value: string) => any;\n}\n\ninterface NumberFormatCustomProps {\n  inputRef: (instance: NumberFormat | null) => void;\n  onChange: (event: { target: { name: string; value: string } }) => void;\n  name: string;\n}\n\nconst NumberFormatCustom = (props: NumberFormatCustomProps) => {\n  const { inputRef, onChange, ...other } = props;\n\n  return (\n    <NumberFormat\n      {...other}\n      getInputRef={inputRef}\n      onValueChange={(values) => {\n        onChange({\n          target: {\n            name: props.name,\n            value: values.value\n          }\n        });\n      }}\n      decimalScale={2}\n      fixedDecimalScale\n      thousandSeparator\n      isNumericString\n      prefix=\"$\"\n    />\n  );\n}\n\nconst NumberField = <T extends object>(props: Props<T>) => {\n  const {\n    name,\n    control,\n    label,\n    error,\n    rules,\n    // type,\n    disabled,\n    transform\n  } = props;\n\n  return (\n    <Controller\n      control={control}\n      name={name as FieldName<T>}\n      rules={rules}\n      render={({ onChange, onBlur, value, name }) => (\n        <MuiTextField\n          id={name}\n          fullWidth\n          // type={ type }\n          className={TextFieldStyle}\n          label={label}\n          onChange={(event) => {\n            if (transform) {\n              onChange(transform(event.target.value));\n            } else {\n              onChange(event.target.value);\n            }\n          }}\n          onBlur={onBlur}\n          value={value}\n          error={!!error}\n          InputLabelProps={{ shrink: true }}\n          helperText={error?.message ?? ''}\n          disabled={disabled}\n          InputProps={{\n            inputComponent: NumberFormatCustom as any\n          }}\n        />\n      )}\n    />\n  );\n};\n\nexport default NumberField;\n","\n\n\nexport enum RecourseType {\n  None = 0,\n  Recourse = 1,\n  NonRecourse = 3,\n}\n\nexport const RecourseTypeLabels = new Map<RecourseType, string>([\n  [RecourseType.Recourse, 'Recourse'],\n  [RecourseType.NonRecourse, 'Non Recourse'],\n]);\n","\n\n\nexport enum FeeModelType {\n  None = 0,\n  SplitFee = 1,\n}\n\nexport const FeeModelTypeLabels = new Map<FeeModelType, string>([\n  [FeeModelType.SplitFee, 'Split Fee'],\n]);\n","import MuiTextField from '@material-ui/core/TextField';\nimport NumberFormat from 'react-number-format';\nimport React from 'react';\nimport { FieldName } from 'react-hook-form/dist/types/form';\nimport {\n  Control,\n  Controller,\n  FieldError,\n  // FieldName\n} from 'react-hook-form';\nimport { FieldRules } from 'types/FieldRules';\nimport { css } from 'emotion';\n\nconst TextFieldStyle = css`\n  .MuiFormLabel-root {\n    font-size: 11px;\n    color: #777;\n    /* text-transform: uppercase; */\n    line-height: 2em;\n  }\n  .MuiInput-root {\n    background-color: #eee;\n  }\n  .MuiInput-input {\n    padding: 6px 5px;\n    font-size: 14px;\n  }\n`;\n\ninterface Props<T extends Record<string, any>> {\n  name: keyof T;\n  control: Control<T>;\n  label: string;\n  error?: FieldError;\n  rules?: FieldRules;\n  // TODO: Implement min/max\n  max?: number;\n  min?: number;\n  // type?: 'text' | 'number' | 'password';\n  disabled?: boolean;\n  transform?: (value: string) => any;\n}\n\ninterface NumberFormatCustomProps {\n  inputRef: (instance: NumberFormat | null) => void;\n  onChange: (event: { target: { name: string; value: string } }) => void;\n  name: string;\n}\n\nconst NumberFormatCustom = (props: NumberFormatCustomProps) => {\n  const { inputRef, onChange, ...other } = props;\n\n  return (\n    <NumberFormat\n      {...other}\n      max={100}\n      min={0}\n      getInputRef={inputRef}\n      onValueChange={(values) => {\n        onChange({\n          target: {\n            name: props.name,\n            value: values.value\n          }\n        });\n      }}\n      decimalScale={2}\n      fixedDecimalScale\n      thousandSeparator\n      isNumericString\n      suffix=\"%\"\n    />\n  );\n}\n\nconst PercentField = <T extends object>(props: Props<T>) => {\n  const {\n    name,\n    control,\n    label,\n    error,\n    rules,\n    // type,\n    disabled,\n    transform\n  } = props;\n\n  return (\n    <Controller\n      control={control}\n      name={name as FieldName<T>}\n      rules={rules}\n      render={({ onChange, onBlur, value, name }) => (\n        <MuiTextField\n          id={name}\n          fullWidth\n          // type={ type }\n          className={TextFieldStyle}\n          label={label}\n          onChange={(event) => {\n            if (transform) {\n              onChange(transform(event.target.value));\n            } else {\n              onChange(event.target.value);\n            }\n          }}\n          onBlur={onBlur}\n          value={value}\n          error={!!error}\n          InputLabelProps={{ shrink: true }}\n          helperText={error?.message ?? ''}\n          disabled={disabled}\n          InputProps={{\n            inputComponent: NumberFormatCustom as any\n          }}\n        />\n      )}\n    />\n  );\n};\n\nexport default PercentField;\n","// import styled from '@emotion/styled';\n// import { GoCheck } from 'react-icons/go';\n// import { MdEdit, MdEmail, MdLocalPhone, MdSend } from 'react-icons/md';\n// import { useHistory } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport { Grid } from '@material-ui/core';\nimport AutoCompleteField, { SelectOption } from 'components/form/AutoCompleteField';\nimport PaddedContainer from 'components/PaddedContainer';\n// import DisplayField from 'components/form/DisplayField';\nimport Card from 'components/Card';\nimport { ConfidentialityType, ConfidentialityTypeLabels } from 'types/ConfidentialityType';\nimport NumberField from 'components/form/NumberField';\nimport { RecourseType, RecourseTypeLabels } from 'types/RecourseType';\nimport { FeeModelType, FeeModelTypeLabels } from 'types/FeeModelType';\nimport PercentField from 'components/form/PercentField';\nimport DisplayField from 'components/form/DisplayField';\nimport { AccountType, AccountTypeLabels } from 'types/AccountType';\nimport React from 'react';\n\ninterface FacilityForm {\n  FeeModelType: SelectOption<FeeModelType> | undefined;\n  RecourseType: SelectOption<RecourseType> | undefined;\n  ConfidentialityType: SelectOption<ConfidentialityType> | undefined;\n  Limit?: number;\n  EstablishmentFee?: number;\n  MinMonthlyDrawdownFee?: number;\n  DrawdownFeePerc?: number;\n  // ABN: string;\n  // ACN: string;\n  // TradingName: string;\n  // TradingAddress: string;\n  // WebSite: string;\n  // Notes: string;\n  // Abn: string;\n  // PrimaryContact: SelectOption<string> | undefined;\n  // SecondaryContact: SelectOption<string> | undefined;\n}\n\nconst defaultValues: FacilityForm = {\n  ConfidentialityType: { value: ConfidentialityType.Disclosed, label: ConfidentialityTypeLabels.get(ConfidentialityType.Disclosed)! },\n  RecourseType: { value: RecourseType.Recourse, label: RecourseTypeLabels.get(RecourseType.Recourse)! },\n  FeeModelType: { value: FeeModelType.SplitFee, label: FeeModelTypeLabels.get(FeeModelType.SplitFee)! },\n  // LegalName: 'Breaking Bad Pty Ltd',\n  // ABN: '',\n  // ACN: '',\n  // TradingName: '',\n  // WebSite: '',\n  // TradingAddress: '',\n  // Notes: '',\n  // Abn: '12 345 678 901',\n  // PrimaryContact: contactOptions.find(option => option.value === '123'),\n  // SecondaryContact: undefined,\n}\n\nconst confidentialityTypeOptions = [...ConfidentialityTypeLabels.entries()].map(([confidentialityType, label]) => \n  ({ label: label, value: confidentialityType })\n);\n\nconst recourseTypeOptions = [...RecourseTypeLabels.entries()].map(([recourseType, label]) => \n  ({ label: label, value: recourseType })\n);\n\nconst feeModelTypeOptions = [...FeeModelTypeLabels.entries()].map(([feeModelType, label]) => \n  ({ label: label, value: feeModelType })\n);\n\nfunction Facility() {\n  // const history = useHistory();\n  const methods = useForm<FacilityForm>({\n    defaultValues,\n    mode: 'onChange',\n  });\n\n  const {\n    handleSubmit,\n    // formState,\n    // watch,\n    control,\n  } = methods;\n\n  // const primaryContact = watch('PrimaryContact');\n  // const secondaryContact = watch('SecondaryContact');\n\n  return (\n    <PaddedContainer>\n      <form onSubmit={handleSubmit(() => {})}>\n        <Grid container spacing={2}>\n          <Grid item xs={12} lg={6}>\n            <Card>\n              <Grid container spacing={2}>\n              <Grid item xs={12} sm={6}>\n                  <DisplayField\n                    label=\"Type\"\n                    value={AccountTypeLabels.get(AccountType.InvoiceFinance)!}\n                  />\n                </Grid>\n                <Grid item xs={12} sm={6}>\n                  <AutoCompleteField\n                    name=\"FeeModelType\"\n                    control={control}\n                    label=\"Fee Model\"\n                    options={feeModelTypeOptions}\n                  />\n                </Grid>\n                <Grid item xs={12} sm={6}>\n                  <NumberField\n                    name=\"Limit\"\n                    control={control}\n                    label=\"Limit\"\n                  />\n                </Grid>\n                <Grid item xs={12} sm={6}>\n                  <NumberField\n                    name=\"EstablishmentFee\"\n                    control={control}\n                    label=\"Establishment Fee\"\n                  />\n                </Grid>\n                <Grid item xs={12} sm={6}>\n                  <NumberField\n                    name=\"MinMonthlyDrawdownFee\"\n                    control={control}\n                    label=\"Min Monthly Drawdown Fee\"\n                  />\n                </Grid>\n                <Grid item xs={12} sm={6}>\n                  <PercentField\n                    name=\"DrawdownFeePerc\"\n                    control={control}\n                    label=\"Drawdown Fee\"\n                  />\n                </Grid>\n                <Grid item xs={12} sm={6}>\n                  <AutoCompleteField\n                    name=\"ConfidentialityType\"\n                    control={control}\n                    label=\"Confidentiality\"\n                    options={confidentialityTypeOptions}\n                  />\n                </Grid>\n                <Grid item xs={12} sm={6}>\n                  <AutoCompleteField\n                    name=\"RecourseType\"\n                    control={control}\n                    label=\"Recourse\"\n                    options={recourseTypeOptions}\n                  />\n                </Grid>\n                {/* <Grid item xs={12} sm={6}>\n                  <DisplayField\n                    label=\"Legal Name\"\n                    value=\"\"\n                  />\n                </Grid>\n                <Grid item xs={12} sm={6}>\n                  <TextField\n                    name=\"ACN\"\n                    label=\"ACN\"\n                    control={control}\n                  />\n                </Grid>\n                <Grid item xs={12}>\n                  <TextField\n                    name=\"TradingName\"\n                    control={control}\n                    label=\"Trading Name\"\n                  />\n                </Grid>\n                <Grid item xs={12}>\n                  <TextField\n                    name=\"TradingAddress\"\n                    control={control}\n                    label=\"Trading Address\"\n                  />\n                </Grid>\n                <Grid item xs={12}>\n                  <TextField\n                    name=\"WebSite\"\n                    control={control}\n                    label=\"Web Site\"\n                    placeholder=\"https://\"\n                  />\n                </Grid>\n                <Grid item xs={12}>\n                  <TextField\n                    name=\"Notes\"\n                    control={control}\n                    multiline\n                    minRows={3}\n                    label=\"Notes\"\n                    placeholder=\"About the business...\"\n                  />\n                </Grid> */}\n              </Grid>\n            </Card>\n          </Grid>\n        </Grid>\n      </form>\n    </PaddedContainer>\n  )\n}\n\nexport default Facility;\n"],"sourceRoot":""}